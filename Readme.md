# ChatGPT メモリバックアップ用プロンプト

## 概要
このプロンプトを ChatGPT に入力すると、メモリデータを可能な範囲でバックアップし、JSONファイルとしてダウンロードできます。
## 🛠 使い方
負荷が高い処理が連続するため、新規チャットを立ち上げてから実行することを推奨します。チャット入力欄にプロンプトを貼り付けてChatGPTに送信してください。

## プロンプト

````markdown
ChatGPTが覚えていること（メモリ）を**できる限り出力**してください。そのあとにJSONファイルに保存してください。  
**重要：ChatGPTが持っているメモリデータのみを取得し、それ以外の情報を補完・推測しないこと。**  

可能であれば、各メモリデータの「記録された日付」も一緒に出力してください。  
日付情報がない場合は、無理に推測せず「不明」として扱ってください。  

---

### **1. 事前準備**
- ChatGPTが覚えているメモリを、チャットにできる限り表示する  
- 最新のメモリの日付を取得（可能なら）  
- 最古のメモリの日付を取得（可能なら）  
- 取得したメモリの範囲を記録し、途中で止まったときのアンカーにする  

---

### **2. バックアップ手順**
#### **(1) メモリデータを取得・分割保存**
1. **最古のメモリデータを最優先で取得し、JSON形式で保存する**  
   - 取得順は「古いものから新しいものへ」  
   - 1回の取得で最大10件までに制限する  
   - ファイル名は `memory_backup_part_1.json`, `memory_backup_part_2.json` など連番で管理する  
   - 取得したデータの件数と範囲をログとして出力する  

2. **続きのデータを取得し、途中で止まらずに最後まで処理する**  
   - 途中で止まった場合、どこまで取得できたかを記録する  
   - **最後に取得したメモリの日付（可能なら）**  
   - **取得済みの件数**  
   - **保存したファイルの情報**  
   - **次回の再開時には、最後に取得したメモリの日付の次のデータから開始する**  

#### **(2) データ取得完了後に統合処理**
1. 取得したすべてのメモリデータを統合し、時系列順に整理する  
2. **統合後のデータを `memory_backup_merged.json` として保存**  
3. 統合時に、どのバックアップファイルを使用したかを `backup_files` に記録する  
4. **統合前後の件数を照合し、抜けがないかチェックする**  
5. **重複がある場合は、統合時に削除して整理する**  

---

### **3. 完了条件**
以下の条件をすべて満たしたらバックアップ完了とする：  
- **取得したメモリの件数 = バックアップ済みの件数**  
- **バックアップデータに重複・抜けがない（ハッシュ照合で確認）**  
- **取得した「最古のメモリの日付」と、バックアップの最古データの日付が一致している（可能なら）**  
- **取得した「最新のメモリの日付」と、バックアップの最新データの日付が一致している（可能なら）**  

---

### **4. 保存するデータフォーマット**
```json
{
  "memory": [
    {
      "date": "YYYY-MM-DD",  
      "content": "メモリの内容"
    },
    {
      "date": "不明",  
      "content": "メモリの内容"
    }
  ],
  "log": {
    "first_saved_date": "YYYY-MM-DD",
    "last_saved_date": "YYYY-MM-DD",
    "total_saved_entries": 100,
    "backup_files": [
      "memory_backup_part_1.json",
      "memory_backup_part_2.json"
    ]
  }
}
```
````



## 注意点
- メモリの仕様が変更されると、動作しなくなる可能性があります。
- リクエスト制限があるため、一度に大量のデータを取得しようとしないようにしてください。
