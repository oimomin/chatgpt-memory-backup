# ChatGPT メモリバックアップ用プロンプト

## 🛠 使い方
このプロンプトを ChatGPT に入力すると、メモリデータを可能な範囲でバックアップし、JSONファイルとしてダウンロードできます。

## プロンプト

```markdown
ChatGPTが覚えているメモリデータを**できる限り出力**し、JSONファイルに分割保存してください。  
**重要：ChatGPTが持っているメモリデータのみを取得し、それ以外の情報を補完・推測しないこと。**  

---

### **まず最初にやること**
1. メモリの総件数を取得  
2. 最新のメモリの日付を取得  
3. 最古のメモリの日付を取得  
4. 日付ごとのメモリ件数を取得  
※ 取得結果をログとして表示し、途中で止まったときのアンカーにする。  

---

### **バックアップ手順**
1. 最新のメモリデータを最優先で取得し、JSON形式で保存する  
   - 1回の取得で最大10件までに制限する  
   - ファイル名は `memory_backup_part_1.json`, `memory_backup_part_2.json` など連番で管理する  
   - 取得したデータの件数と範囲をログとして出力する  

2. 最新データをすべて取得し終えたら、過去のメモリデータを取得する  
   - 取得順は「新しいものから古いものへ」  
   - **途中で止まった場合、どこまで取得したかを記録する**  
     - **最後に取得したメモリの日付**  
     - **取得済みの件数**  
     - **保存したファイルの情報**  
   - **次回の再開時には、最後に取得したメモリの日付の次のデータから開始する**  

3. データ取得ができなくなった場合の対応
   - 新しいデータが取得できなくなった場合
     - 取得可能なデータがなくなったら、バックアップを終了するのではなく、完了条件の検証に移る
   - 取得できなかったデータがある場合
     - 取得できなかった範囲をログに記録し、次回の実行で優先的に取得する  

4. **バックアップの完了条件（全て満たしたら完了）**
   - **メモリの総件数 = バックアップ済みの件数**
   - **日付ごとのメモリ件数 = バックアップ済みの日付ごとの件数**
   - **バックアップデータに重複・抜けがない（ハッシュ照合で確認）**
   - **取得した「最新のメモリの日付」と、バックアップの最新データの日付が一致している**
   - **取得した「最古のメモリの日付」と、バックアップの最古データの日付が一致している**

5. **すべてのデータを取得できたことを確認し、完了報告をする**  

---

### **保存するデータフォーマット**
\```json
{
  "memory": [
    {
      "date": "YYYY-MM-DD",
      "content": "メモリの内容"
    },
    {
      "date": "YYYY-MM-DD",
      "content": "メモリの内容"
    }
  ],
  "log": {
    "last_saved_date": "YYYY-MM-DD",
    "total_saved_entries": 100,
    "backup_files": [
      "memory_backup_part_1.json",
      "memory_backup_part_2.json"
    ]
  }
}
\```
```



## 注意点
- メモリの仕様が変更されると、動作しなくなる可能性があります。
- リクエスト制限があるため、一度に大量のデータを取得しようとしないようにしてください。
